<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FOODwithLOVE</title>
</head>
<style>
    .background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.2);
            object-position: center;
            z-index: -1; /* Set a lower z-index to place it behind other elements */
        }
</style>
<body>
    <img class="background-image" src="Milk Powder Gulab Jamun â€¢ Spoon Fork And Food.jpeg"  />
    <div style="width: 100%; height: 100%; position: absolute;">
        <div style="width: 390px; height: 156px; left: 18vw; top: 240px; position: absolute; text-align: center; color: #F8D24A; font-size: 100px; font-family: Poppins; font-weight: 700; letter-spacing: 4.06px; word-wrap: break-word">Foodie or Cook</div>
        <div style="width: 460px; height: 40px; left: 15vw; top: 475px; position: absolute; text-align: center; color: #F8D24A; font-size: 24px; font-family: Poppins; font-weight: 700; letter-spacing: 0.78px; word-wrap: break-word">We are here for you</div>
        <div style="height: 710px;width: 30vw; padding-top: 57px; padding-bottom: 77.25px; padding-left: 37px; padding-right: 37px; left: 58vw; top: 100px; position: absolute; border-radius: 15.97px; border: 0.80px black solid; flex-direction: column; justify-content: flex-start; align-items: center; display: inline-flex; background-color: white;">
            <div style="width: 319px; height: 375.75px; position: relative; left: 0.02vw;">
                <div style="width: 300px; height: 204.20px; left: 4px; top: 108px; position: absolute; flex-direction: column; justify-content: flex-start; align-items: flex-start; gap: 40.73px; display: inline-flex">
                    <form>
                        <div style="margin-top: 30px; text-align: left;">
                            <input type="radio" id="Foodie" name="Foodie" style="margin-right: 18px;">
                            <label for="Foodie" style="font-size: 24px; ">Foodie</label>
                        </div>
                        <div style="margin-top: -26px; text-align: right;">
                            <input type="radio" id="Foodie" name="Foodie" style="margin-right: 18px;">
                            <label for="Foodie" style="font-size: 24px; ">Cook</label>
                        </div>
                        <div style="margin-top: 30px; text-align: left;">
                            <label for="username" style="display: block; font-size: 22px; margin-bottom: 5px; left: 0.02vw">Username</label>
                            <input type="text" id="username" name="username" style="width: 100%; padding: 10px; font-size: 22px;">
                        </div>
                        <div style="margin-top: 20px; text-align: left;">
                            <label for="email" style="display: block; font-size: 22px; margin-bottom: 5px;">Email</label>
                            <input type="email" id="email" name="email" style="width: 100%; padding: 10px; font-size: 22px;">
                        </div>
                        <div style="margin-top: 20px; text-align: left;">
                            <label for="password" style="display: block; font-size: 22px; margin-bottom: 5px;">Password</label>
                            <input type="password" id="password" name="password" style="width: 100%; padding: 10px; font-size: 22px;">
                        </div>
                        <div style="margin-top: 20px; text-align: left;">
                            <input type="checkbox" id="rememberMe" name="rememberMe" style="margin-right: 18px;">
                            <label for="rememberMe" style="font-size: 16px;">Remember me</label>
                        </div>
                        <div style="margin-top: 32px;">
                            <button type="submit" style="background-color: #F8D24A; color: black; border: none; padding: 15px 30px; border-radius: 5px; cursor: pointer; font-size: 18px;">LOGIN</button>
                        </div>
                    </form>
                </div>
                <div style="width: 319px; height: 81px; left: 0px; top: 0px; position: absolute; text-align: center; color: black; font-size: 40px; font-family: Poppins; font-weight: 700; line-height: 29.60px; word-wrap: break-word">FOODwithLOVE</div>
            </div>
        </div>
        <a href="home_trial-2.html" style="text-decoration:none; display:block;width: 362px; height: 63px; left: 18vw; top: 613px; position: absolute; background: #F9E57D;justify-content: center;">
            <div style="left: 160px; top: 17px; position: absolute; text-align: center; color: black; font-size: 22.40px; font-family: Poppins; font-weight: 700; letter-spacing: 0.78px; word-wrap: break-word;justify-content: center;">Back</div>
            </a>
    </div>
</body>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
    import { getDatabase, set, ref } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-database.js";
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-auth.js";

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    const firebaseConfig = {
      apiKey: "AIzaSyAnK4R0DgS0eWA2D-xlEUbLS9Dh2EJeRqQ",
            authDomain: "skillsight-c4999.firebaseapp.com",
            projectId: "skillsight-c4999",
            storageBucket: "skillsight-c4999.appspot.com",
            messagingSenderId: "94130220736",
            appId: "1:94130220736:web:65fa688fb9845f05ca8725"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth();
    const loginButton = document.getElementById('loginButton');
  
  // ... (previous code)
  
  loginButton.addEventListener('click', (e) => {
    var email = document.getElementById('email').value;
    var password = document.getElementById('password').value;
  
    signInWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        const user = userCredential.user;
  
        // Fetch usertype from the database
        const userRef = ref(database, 'users/' + user.uid);
        get(userRef)
          .then((snapshot) => {
            console.log(snapshot.val()); // Log the snapshot value to the console
  
            if (snapshot.exists()) {
              const userData = snapshot.val();
              const usertype = userData.usertype;
  
              // Redirect based on usertype
              if (usertype === "buyer") {
                window.location.href = 'kitchens_page.html';
              } else if (usertype === "seller") {
                window.location.href = 'change_menu.html';
              }
            } else {
              // Handle the case where user data doesn't exist
              alert('User data not found');
            }
          })
          .catch((error) => {
            console.error('Error getting user data:', error);
            alert('Error getting user data');
          });
      })
      .catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message;
  
        alert(errorMessage);
      });
  });
  

  </script>
  
</html>